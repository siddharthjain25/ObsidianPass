(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{172:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(157).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},722:(e,t,r)=>{Promise.resolve().then(r.bind(r,3792))},3792:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(5155),a=r(2115),n=r(5695),i=r(9576),l=r(172);function o(){let{isAuthenticated:e,isLoading:t}=(0,i.A)(),r=(0,n.useRouter)();return(0,a.useEffect)(()=>{t||(e?r.replace("/dashboard"):r.replace("/login"))},[e,t,r]),(0,s.jsx)("div",{className:"flex h-screen w-screen items-center justify-center bg-background text-foreground",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,s.jsx)(l.A,{className:"h-12 w-12 animate-spin text-primary"}),(0,s.jsx)("p",{className:"text-lg font-semibold",children:"Loading ObsidianPass..."})]})})}},5695:(e,t,r)=>{"use strict";var s=r(8999);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},6104:(e,t,r)=>{"use strict";let s;r.d(t,{db:()=>o,j:()=>l});var a=r(3915),n=r(3004),i=r(5317);s=(0,a.Dk)().length?(0,a.Dk)()[0]:(0,a.Wp)({apiKey:"AIzaSyBRbrMNMu7JOJdOQHWiFzO1Qrn3RXt7sXA",authDomain:"obsidianpass.firebaseapp.com",projectId:"obsidianpass",storageBucket:"obsidianpass.firebasestorage.app",messagingSenderId:"286105491644",appId:"1:286105491644:web:2996d3bb854bed1cec58b9",measurementId:"G-PHM0J33VDZ"});let l=(0,n.xI)(s),o=(0,i.aU)(s)},9576:(e,t,r)=>{"use strict";r.d(t,{A:()=>u,AuthProvider:()=>o});var s=r(5155),a=r(2115),n=r(6104),i=r(3004);let l=(0,a.createContext)(void 0),o=e=>{let{children:t}=e,[r,o]=(0,a.useState)(null),[u,c]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e;let t=()=>{e=(0,i.hg)(n.j,e=>{o(e),c(!1)},e=>{console.error("Firebase Auth state listener error:",e),o(null),c(!1)})};return(0,i.oM)(n.j,i.F0).then(()=>{t()}).catch(r=>{console.error("Error setting Firebase auth persistence:",r),t(),e||(o(null),c(!1))}),()=>{e&&e()}},[]);let d=(0,a.useCallback)(async()=>{c(!0);let e=new i.HF;try{return await (0,i.df)(n.j,e),!0}catch(e){return console.error("Google Sign-In failed:",e),c(!1),!1}},[]),h=(0,a.useCallback)(async()=>{try{await (0,i.CI)(n.j)}catch(e){console.error("Sign out failed:",e)}},[]);return(0,s.jsx)(l.Provider,{value:{user:r,isAuthenticated:!!r,isLoading:u,loginWithGoogle:d,logout:h},children:t})},u=()=>{let e=(0,a.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,73,244,441,684,358],()=>t(722)),_N_E=e.O()}]);